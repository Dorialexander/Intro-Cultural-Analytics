

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Reddit Data Collection with PSAW &#8212; Introduction to Cultural Analytics &amp; Python</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/custom.js"></script>
    <script src="../../_static/ansi_up.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/features/Data-Collection/Reddit-Data-Collection-With-PSAW.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Text Analysis" href="../Text-Analysis/Text-Analysis.html" />
    <link rel="prev" title="Twitter Data Sharing" href="Twitter-Data-Sharing.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/features/Data-Collection/Reddit-Data-Collection-With-PSAW.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Reddit Data Collection with PSAW" />
<meta property="og:description" content="Reddit Data Collection with PSAW  Install PSAW  !pip install psaw  Collecting psaw   Downloading psaw-0.0.12-py3-none-any.whl (15 kB) Requirement already satisf" />
<meta property="og:image"       content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/_static/favicon.ico" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/favicon.ico" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Introduction to Cultural Analytics & Python</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <p class="caption">
 <span class="caption-text">
  How To
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../How-To-Interact-With-This-Book.html">
   Interact With This Book
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Course
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../course-schedule.html">
   Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus.html">
   Course Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Homework/HW-Description-Without-Links.html">
   Homework Assignments
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Book
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Command-Line/The-Command-Line.html">
   The Command Line
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Python/Python.html">
   Programming in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Data-Analysis/Data-Analysis.html">
   Data Analysis (Pandas)
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="Data-Collection.html">
   Data Collection (Web Scraping, APIs)
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="User-Ethics-Legal-Concerns.html">
     User Ethics &amp; Legal Concerns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Web-Scraping-Part1.html">
     Web Scraping — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Web-Scraping-Part2.html">
     Web Scraping — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Git-GitHub.html">
     Git and GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="APIs.html">
     Application Programming Interfaces (APIs)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Song-Genius-Data-Collection.html">
     Song Genius Data Collection
    </a>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Genius-API.html">
       Song Genius API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="LyricsGenius.html">
       Song Lyrics Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Song-Lyrics-Analysis.html">
       Song Lyrics Analysis
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Twitter-Data-Collection-Home.html">
     Twitter Data Collection
    </a>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Twitter-API-Setup.html">
       Twitter API Setup
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Twitter-Data-Collection.html">
       Twitter Data Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Twitter-Data-Analysis.html">
       Twitter Data Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Twitter-Data-Sharing.html">
       Twitter Data Sharing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Reddit Data Collection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Text-Analysis/Text-Analysis.html">
   Text Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Network-Analysis/Network-Analysis-Home.html">
   Network Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Mapping/Mapping-Home.html">
   Mapping
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Datasets/Datasets.html">
   Datasets
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extra Materials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Python/Jupyter-Tips-Tricks.html">
   Jupyter Tips &amp; Tricks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Python/Randomize-Students.html">
   Make Random Student Groups
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/features/Data-Collection/Reddit-Data-Collection-With-PSAW.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        <a class="issues-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics/issues/new?title=Issue%20on%20page%20%2Ffeatures/Data-Collection/Reddit-Data-Collection-With-PSAW.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/melaniewalsh/Intro-Cultural-Analytics/master?urlpath=lab/tree/features/Data-Collection/Reddit-Data-Collection-With-PSAW.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-psaw">
   Install PSAW
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-pushshiftapi">
   Import PushshiftAPI
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#initialize-pushshiftapi">
   Initialize PushshiftAPI
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collect-reddit-submissions-with-more-than-a-certain-upvote-score">
   Collect Reddit submissions (with more than a certain upvote score)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collect-reddit-submissions-with-search-keyword">
   Collect Reddit submissions (with search keyword)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collect-reddit-comments-with-search-keyword">
   Collect Reddit comments (with search keyword)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grab-data-for-each-reddit-comment-that-mentions-query-and-make-into-a-dataframe">
     Grab data for each Reddit comment that mentions query and make into a dataframe
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collect-reddit-submissions-comments-with-multiple-search-keywords">
   Collect Reddit submissions/comments (with multiple search keywords)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collect-reddit-submissions-comments-with-start-and-end-dates">
   Collect Reddit submissions/comments (with start and end dates)
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="reddit-data-collection-with-psaw">
<h1>Reddit Data Collection with PSAW<a class="headerlink" href="#reddit-data-collection-with-psaw" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install-psaw">
<h2>Install PSAW<a class="headerlink" href="#install-psaw" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install psaw
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting psaw
  Downloading psaw-0.0.12-py3-none-any.whl (15 kB)
Requirement already satisfied: Click in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from psaw) (7.1.2)
Requirement already satisfied: requests in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from psaw) (2.23.0)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;psaw) (2.9)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;psaw) (2020.4.5.2)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;psaw) (1.25.9)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;psaw) (3.0.4)
Installing collected packages: psaw
Successfully installed psaw-0.0.12
</pre></div>
</div>
</div>
</div>
<p><strong>Import Pandas and Set Display Options</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;max_colwidth&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;max_columns&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="import-pushshiftapi">
<h2>Import PushshiftAPI<a class="headerlink" href="#import-pushshiftapi" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psaw</span> <span class="kn">import</span> <span class="n">PushshiftAPI</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="initialize-pushshiftapi">
<h2>Initialize PushshiftAPI<a class="headerlink" href="#initialize-pushshiftapi" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api</span> <span class="o">=</span> <span class="n">PushshiftAPI</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="collect-reddit-submissions-with-more-than-a-certain-upvote-score">
<h2>Collect Reddit submissions (with more than a certain upvote score)<a class="headerlink" href="#collect-reddit-submissions-with-more-than-a-certain-upvote-score" title="Permalink to this headline">¶</a></h2>
<p><strong>Set up generator to make API request</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_submissions</span><span class="p">(</span><span class="n">subreddit</span><span class="o">=</span><span class="s1">&#39;AmITheAsshole&#39;</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="s2">&quot;&gt;2000&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Grab data for each Reddit submission and make into a DataFrame</strong></p>
<p>The cell below should take a while to run. It’s searching through Reddit’s entire history. It’s ok if you periodically get errors while it’s running.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aita_submissions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">submission</span><span class="o">.</span><span class="n">d_</span> <span class="k">for</span> <span class="n">submission</span> <span class="ow">in</span> <span class="n">api_request_generator</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Check shape</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aita_submissions</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2932, 78)
</pre></div>
</div>
</div>
</div>
<p><strong>Check columns</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aita_submissions</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;all_awardings&#39;, &#39;allow_live_comments&#39;, &#39;author&#39;,
       &#39;author_flair_css_class&#39;, &#39;author_flair_richtext&#39;, &#39;author_flair_text&#39;,
       &#39;author_flair_type&#39;, &#39;author_fullname&#39;, &#39;author_patreon_flair&#39;,
       &#39;author_premium&#39;, &#39;awarders&#39;, &#39;can_mod_post&#39;, &#39;contest_mode&#39;,
       &#39;created_utc&#39;, &#39;domain&#39;, &#39;full_link&#39;, &#39;gilded&#39;, &#39;gildings&#39;, &#39;id&#39;,
       &#39;is_crosspostable&#39;, &#39;is_meta&#39;, &#39;is_original_content&#39;,
       &#39;is_reddit_media_domain&#39;, &#39;is_robot_indexable&#39;, &#39;is_self&#39;, &#39;is_video&#39;,
       &#39;link_flair_background_color&#39;, &#39;link_flair_richtext&#39;,
       &#39;link_flair_text_color&#39;, &#39;link_flair_type&#39;, &#39;locked&#39;, &#39;media_only&#39;,
       &#39;no_follow&#39;, &#39;num_comments&#39;, &#39;num_crossposts&#39;, &#39;over_18&#39;,
       &#39;parent_whitelist_status&#39;, &#39;permalink&#39;, &#39;pinned&#39;, &#39;pwls&#39;,
       &#39;retrieved_on&#39;, &#39;score&#39;, &#39;selftext&#39;, &#39;send_replies&#39;, &#39;spoiler&#39;,
       &#39;stickied&#39;, &#39;subreddit&#39;, &#39;subreddit_id&#39;, &#39;subreddit_subscribers&#39;,
       &#39;subreddit_type&#39;, &#39;suggested_sort&#39;, &#39;thumbnail&#39;, &#39;title&#39;,
       &#39;total_awards_received&#39;, &#39;treatment_tags&#39;, &#39;upvote_ratio&#39;, &#39;url&#39;,
       &#39;whitelist_status&#39;, &#39;wls&#39;, &#39;created&#39;, &#39;edited&#39;, &#39;removed_by_category&#39;,
       &#39;link_flair_template_id&#39;, &#39;link_flair_text&#39;, &#39;post_hint&#39;, &#39;preview&#39;,
       &#39;author_flair_background_color&#39;, &#39;author_flair_template_id&#39;,
       &#39;author_flair_text_color&#39;, &#39;link_flair_css_class&#39;, &#39;banned_by&#39;,
       &#39;top_awarded_type&#39;, &#39;steward_reports&#39;, &#39;updated_utc&#39;, &#39;og_description&#39;,
       &#39;og_title&#39;, &#39;author_cakeday&#39;, &#39;rte_mode&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p><strong>Transform to datetime</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aita_submissions</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">aita_submissions</span><span class="p">[</span><span class="s1">&#39;created_utc&#39;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aita_submissions</span><span class="p">[[</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;selftext&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;subreddit&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="s1">&#39;num_comments&#39;</span><span class="p">,</span> <span class="s1">&#39;num_crossposts&#39;</span><span class="p">,</span> <span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>author</th>
      <th>date</th>
      <th>title</th>
      <th>selftext</th>
      <th>url</th>
      <th>subreddit</th>
      <th>score</th>
      <th>num_comments</th>
      <th>num_crossposts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Additional-Pizza-805</td>
      <td>2020-07-24 19:13:49+00:00</td>
      <td>AITA for kicking my cousin off of my sister’s wedding Zoom call?</td>
      <td>My [27M] older sister [30F] and her fiancé [31M] were planning for over a year for their wedding to be this month. Obviously, they can’t have the wedding as planned, but they still would like to get married, so they decided on a “Zoom” wedding where all of the family/friends would just call in to watch the officiant, my sister, and her fiancé. \n\nMy sister didn’t want to be in charge of hosting the Zoom call because she thought it would stress her out, so she asked me to and I gladly accept...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx80wd/aita_for_kicking_my_cousin_off_of_my_sisters/</td>
      <td>AmItheAsshole</td>
      <td>11159</td>
      <td>2209</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>decadel8ter</td>
      <td>2020-07-24 14:37:13+00:00</td>
      <td>AITA for resenting my family for something that happened over a decade ago?</td>
      <td>when i was 15 i was in a car accident. i was riding my bike on new bike lanes that my city had installed, and a car hit me. I ended up having to go to the hospital, nothing major, the car was turning onto the main road when it hit me so it was going well below the speed limit. but since it was a car accident, i was forced into the ambulance and shipped off to the hospital to get x-rays.\n\nsince i was a minor, I wasn't allowed to be released from the hospital without my family coming to pick...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx2vvl/aita_for_resenting_my_family_for_something_that/</td>
      <td>AmItheAsshole</td>
      <td>2541</td>
      <td>1143</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Snoo_66130</td>
      <td>2020-07-24 12:35:35+00:00</td>
      <td>AITA for telling my step dad to stop trying to be my dad?</td>
      <td>I'm   35, and my mom who is 52 is dating a man who is is 27. This is fucking   weird as hell and I really don't like this guy but whatever. He always   brings up the fact that's he's my step dad and always talks about how   proud of me he is and how good of a son I've become and how he's raised   me so well and shit.\n\nLike he's   literally acting like my dad, which pisses me off because he is younger   htan me and was barely ever in my life but more so, becuase I actually   had a dad who u...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx0zk7/aita_for_telling_my_step_dad_to_stop_trying_to_be/</td>
      <td>AmItheAsshole</td>
      <td>2809</td>
      <td>1253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ohnoihaveabluechair</td>
      <td>2020-07-24 10:56:56+00:00</td>
      <td>AITA for confronting my SIL for wearing clothes that belonged to me?</td>
      <td>Some info: A few years ago, my family didn’t have a lot of spare money to buy a lot of things (lower middle class), only recently (around 2016) did my husband get a new job and we got financially better by a lot, so finally we could afford to buy things for our kids and travel.\n\nIn 2018, I was so excited when my husband got both of us tickets to go to India for 2 weeks and gave me 200,000 rupees for punjabi suit shopping (traditional indian clothes). This meant a lot to me because my husba...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hwzpbu/aita_for_confronting_my_sil_for_wearing_clothes/</td>
      <td>AmItheAsshole</td>
      <td>7581</td>
      <td>1550</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>FormalLettuce3</td>
      <td>2020-07-24 10:52:08+00:00</td>
      <td>AITA for saying we'd only help with my ex's kid's party if we could tell people we're engaged?</td>
      <td>This guy, "Jack", and I were together for about a year, and within a couple weeks of ending it I found out I was pregnant. I texted Jack to tell him, and a couple hours later this woman, "Liz", showed up at my place saying she and Jack had been together for 6 months, and she was also pregnant, and when the text arrived she got my address out of Jack's phone so she could talk to me before him. I told her everything, and Liz dumped Jack. I was about 6 weeks along at this stage, and she was 12 ...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hwzncq/aita_for_saying_wed_only_help_with_my_exs_kids/</td>
      <td>AmItheAsshole</td>
      <td>2915</td>
      <td>1214</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2927</th>
      <td>BackgroundJellyfish</td>
      <td>2018-08-31 21:39:49+00:00</td>
      <td>AITA for hitting my girlfriend out of reflex for her scaring me?</td>
      <td>Hi, so my girlfriend and i watched a horror movie recently, called The Last Exorcism. Now keep in mind, i HATE horror, i get very scared easily. but she likes horror, and practically begged me to watch it with her. So, i did watch it, and have been very jumpy lately. It was pretty scary, because horror movies have always given me nightmares.\n\n\nMy girlfriend, however, thinks it's funny how i am. She has picked up me bad habit. She likes to sneak up behind me and make a loud noise to startl...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/9bxoro/aita_for_hitting_my_girlfriend_out_of_reflex_for/</td>
      <td>AmItheAsshole</td>
      <td>2719</td>
      <td>405</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2928</th>
      <td>Marylebone_Road</td>
      <td>2018-08-30 17:00:31+00:00</td>
      <td>AITA for thinking that this sub is only so people can have their decisions validated and never actually post something assholish they've done?</td>
      <td></td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/9blev1/aita_for_thinking_that_this_sub_is_only_so_people/</td>
      <td>AmItheAsshole</td>
      <td>2001</td>
      <td>104</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2929</th>
      <td>treefiddyfive</td>
      <td>2018-08-26 09:33:45+00:00</td>
      <td>AITA for not believing my daughter is non-binary?</td>
      <td>Recently my daughter has 'come out' to me as non binary, meaning that she supposedly does not believe she is a man or a woman. I heard her out and let her speak, and tried to calmly ask her how she has come to this conclusion. The conversation was civil until I told her I did not believe she is anything but a woman. At this point, she started crying, calling me a bigot, and my wife had to take over. My wife tells me I am being insensitive. \n\n\nThey want me to refer to them as 'they', which...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/9aeeed/aita_for_not_believing_my_daughter_is_nonbinary/</td>
      <td>AmItheAsshole</td>
      <td>2068</td>
      <td>905</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2930</th>
      <td>grizzythekid</td>
      <td>2018-06-19 02:07:05+00:00</td>
      <td>AITA for throwing a soda on the ground near the dude I bought it for?</td>
      <td>I was going to McDonald's for a quick bite to go, when a drunk maybe homeless, definitely in some state guy asked if I could but him a burger. I said sure, having been drunk plenty of times myself, I know a burger hits the spot when you're on one. So I buy two big cheeseburger meals, and walk out. I've got all the food in a bag, and two drinks in the other. I set the drinks down on an outside table and fish out one burger and hand it to him. I set the fries on the table for him, as he his un...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/8s56a3/aita_for_throwing_a_soda_on_the_ground_near_the/</td>
      <td>AmItheAsshole</td>
      <td>3532</td>
      <td>90</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2931</th>
      <td>Pettheftthrow</td>
      <td>2018-05-11 03:28:07+00:00</td>
      <td>AITA for refusing to return a lost pet?</td>
      <td>So over two years ago a cat appeared in my yard. He was skinny, skittish, unneutered, and had a serious abscess on his rump, likely from a cat bite wound. I took him to the vet that night and had him treated. The vet estimated he was about six months old.\n\nI called the local county shelters to file a found cat report. I also posted on Craigslist, posted his info at local vet offices, and kept an eye out for flyers. He was scanned for a microchip and didn't have one. \n\nAt that point I did...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/8ikrb0/aita_for_refusing_to_return_a_lost_pet/</td>
      <td>AmItheAsshole</td>
      <td>2387</td>
      <td>169</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>2932 rows × 9 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="collect-reddit-submissions-with-search-keyword">
<h2>Collect Reddit submissions (with search keyword)<a class="headerlink" href="#collect-reddit-submissions-with-search-keyword" title="Permalink to this headline">¶</a></h2>
<p><strong>Set up generator to make API request</strong></p>
<p>The cell below should only take a second to run</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_submissions</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;Missy Elliott&#39;</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="s2">&quot;&gt;2000&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Grab data for each Reddit submission and make into a DataFrame</strong></p>
<p>The cell below should take a while to run. It’s searching through Reddit’s entire history. It’s ok if you periodically get errors while it’s running.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missy_submissions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">submission</span><span class="o">.</span><span class="n">d_</span> <span class="k">for</span> <span class="n">submission</span> <span class="ow">in</span> <span class="n">api_request_generator</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missy_submissions</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">missy_submissions</span><span class="p">[</span><span class="s1">&#39;created_utc&#39;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missy_submissions</span><span class="p">[[</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;selftext&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;subreddit&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="s1">&#39;num_comments&#39;</span><span class="p">,</span> <span class="s1">&#39;num_crossposts&#39;</span><span class="p">,</span> <span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>author</th>
      <th>date</th>
      <th>title</th>
      <th>selftext</th>
      <th>url</th>
      <th>subreddit</th>
      <th>score</th>
      <th>num_comments</th>
      <th>num_crossposts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Origai</td>
      <td>2020-04-12 17:21:30+00:00</td>
      <td>When Missy Elliott is a Heidi Stan</td>
      <td></td>
      <td>https://i.redd.it/nbra20y58fs41.jpg</td>
      <td>rupaulsdragrace</td>
      <td>3682</td>
      <td>103</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Chriscftb97</td>
      <td>2019-10-04 20:21:19+00:00</td>
      <td>DaBaby's "KIRK" sells 147K First Week (8K Pure). Kevin Gates' "I'm Him" sells 71K First Week (15K Pure). Young M.A's "Herstory in the Making" sells 22K First Week (5K Pure).</td>
      <td>Rank| Artist| Album| Label | Pure Sales| Sales + Streaming\n---|---|----|----|----|----\n1 | Post Malone | Hollywood's Bleeding | Republic | 200,000 | 489,000\n2 | Khalid | Free Spirit | Right Hand Music/RCA | 82,000 | 202,000\n3 | Ed Sheeran | No.6 Collaborations Project | Atlantic | 70,000 | 173,000\n4 | Tyler, The Creator | IGOR | Columbia | 77,716 | 172,377\n5 | Juice WRLD | Death Race For Love | Grade A/Interscope | 42,648 | 164,076\n**6** | **DaBaby** | **KIRK** | **Interscope** | **7,...</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/ddcx0y/dababys_kirk_sells_147k_first_week_8k_pure_kevin/</td>
      <td>hiphopheads</td>
      <td>2470</td>
      <td>575</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Chriscftb97</td>
      <td>2019-09-14 16:29:34+00:00</td>
      <td>Post Malone's "Hollywood's Bleeding" sells 493K First Week (210K Pure). EARTHGANG's "Mirrorland" sells 12K First Week (2K Pure).</td>
      <td>Rank| Artist| Album| Label | Pure Sales| Sales + Streaming\n---|---|----|----|----|----\n**1** | **Post Malone** | **Hollywood's Bleeding** | **Republic** | **210,283** | **492,854**\n2 | Khalid | Free Spirit | Right Hand Music/RCA | 82,000 | 202,000\n3 | Ed Sheeran | No.6 Collaborations Project | Atlantic | 70,000 | 173,000\n4 | Tyler, The Creator | IGOR | Columbia | 77,716 | 172,377\n5 | Juice WRLD | Death Race For Love | Grade A/Interscope | 42,648 | 164,076\n6 | DJ Khaled | Father Of Asa...</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/d47eza/post_malones_hollywoods_bleeding_sells_493k_first/</td>
      <td>hiphopheads</td>
      <td>3332</td>
      <td>889</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Chriscftb97</td>
      <td>2019-08-30 21:00:33+00:00</td>
      <td>BROCKHAMPTON's "GINGER" sells 77K First Week (55K Pure). Jeezy's "TM104: The Legend of the Snowman" sells 50K First Week (22K Pure). Missy Elliott's "ICONOLOGY" sells 17K First Week (11K Pure). SAINt JHN's "Ghetto Lenny's Love Songs" sells 13K First Week (4K Pure).</td>
      <td>Rank| Artist| Album| Label | Pure Sales| Sales + Streaming\n---|---|----|----|----|----\n1 | Khalid | Free Spirit | Right Hand Music/RCA | 82,000 | 202,000\n2 | Ed Sheeran | No.6 Collaborations Project | Atlantic | 70,000 | 173,000\n3 | Tyler, The Creator | IGOR | Columbia | 77,716 | 172,377\n4 | Juice WRLD | Death Race For Love | Grade A/Interscope | 42,648 | 164,076\n5 | DJ Khaled | Father Of Asahd | We The Best/Epic | 32,466 | 131,717\n6| Young Thug | So Much Fun | Atlantic | 5,142 | 131,...</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/cxmule/brockhamptons_ginger_sells_77k_first_week_55k/</td>
      <td>hiphopheads</td>
      <td>3317</td>
      <td>694</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>hugh__honey</td>
      <td>2019-08-22 18:12:01+00:00</td>
      <td>Missy Elliott announces first new album in 14 years, ICONOLOGY, coming out TONIGHT</td>
      <td>Announced on her IG - - https://www.instagram.com/p/B1ebzOigauK/?utm_source=ig_web_button_share_sheet</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/cu199g/missy_elliott_announces_first_new_album_in_14/</td>
      <td>hiphopheads</td>
      <td>4262</td>
      <td>237</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>errgreen</td>
      <td>2019-07-26 19:59:15+00:00</td>
      <td>Lizzo - Tempo (feat. Missy Elliott) [Official Music Video]</td>
      <td></td>
      <td>https://www.youtube.com/watch?v=Srq1FqFPwj0</td>
      <td>Music</td>
      <td>7656</td>
      <td>603</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>emitremmus27</td>
      <td>2019-06-14 13:59:53+00:00</td>
      <td>Missy Elliott becomes first female hip-hop artist inducted into Songwriters Hall of Fame</td>
      <td></td>
      <td>https://abcnews.go.com/GMA/Culture/missy-elliott-female-hip-hop-artist-inducted-songwriters/story?id=63695814</td>
      <td>Music</td>
      <td>7935</td>
      <td>299</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>DanWofSoc</td>
      <td>2018-05-04 15:59:44+00:00</td>
      <td>Friday Midday MAGAthread! - 05/04/2018 - Focus on the Midterms Volume 1: House Seats : CA-10 Jeff Denham, CA-25 Steve Knight, CA-48 Dana Rohrabacher</td>
      <td>_______________\n\n_______________\n\nGood afternoon my fellow Americans.  **Your dom sheriff /u/DanWofSoc here to kick off the upcoming election cycle.**  Believe it or not, we have about 24 weeks until the [November midterms](https://i.imgur.com/CdgAsM7.png) so it is time to go to work.  **My goal is to run through all of the competitive house races each Friday until the election.**  It is no secret that the democrat's only goal is the impeachment of our dear GEOTUS and The House of Repres...</td>
      <td>https://www.reddit.com/r/The_Donald/comments/8h0buy/friday_midday_magathread_05042018_focus_on_the/</td>
      <td>The_Donald</td>
      <td>2873</td>
      <td>28</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rejeremiad</td>
      <td>2018-01-22 17:02:21+00:00</td>
      <td>Malia Obama's Brand New Car is Disgusting | It isn't, refers to "Limosine One" used by the POTUS, saved you 257 clicks</td>
      <td>screenshot of original click headline: https://i.imgur.com/kCDDZBU.png \n\nsource: http://archive.is/FkEMT\n\nList:  \n\n001: Paris Hilton – Bentley GT Continental, Estimated $285K  \n002: Jay Leno – 1955 Mercedes 300SL Gullwing Coupe, Estimated $1.8 Million  \n003: Kim Kardashian – Ferrari 458 Italia, Estimated $325K  \n004: P.Diddy – Rolls Royce Phantom Drophead Coupe, Estimated $440K  \n005: Nicolas Cage – 1958 Ferrari 250 GT Pininfarina, Estimated $3.6 Million  \n006: Jerry Seinfeld – Po...</td>
      <td>https://www.reddit.com/r/savedyouaclick/comments/7s751u/malia_obamas_brand_new_car_is_disgusting_it_isnt/</td>
      <td>savedyouaclick</td>
      <td>9950</td>
      <td>339</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>silverwolfer</td>
      <td>2017-10-23 22:34:16+00:00</td>
      <td>Missy Elliott doing you a /r/personalfinance</td>
      <td></td>
      <td>https://imgur.com/GzzkVyt</td>
      <td>BlackPeopleTwitter</td>
      <td>3057</td>
      <td>46</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>hennny</td>
      <td>2017-01-30 11:40:38+00:00</td>
      <td>MORNING MAGAthread: Let's destroy, debunk and decuck some of these CTR talking points.</td>
      <td>#RISE AND SHINE, CENTIPEDES!\n\n#How are we all today?\n\n#Are we all ready for another week of being **PRESIDENTIAL AF**?\n\nI'm sure you don't need me to add another scratch onto an already very scratched, overplayed record- it's obvious right now that CTR  are back with a vengeance. However, **jet fuel can't melt steel memes**. I, for one, absolutely fucking love banning cucks. It takes so much longer for them to create an account and copy and paste a CTR talking point than it does for me...</td>
      <td>https://www.reddit.com/r/The_Donald/comments/5r06o1/morning_magathread_lets_destroy_debunk_and_decuck/</td>
      <td>The_Donald</td>
      <td>7000</td>
      <td>816</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>BigLeJaffe</td>
      <td>2016-04-26 20:33:14+00:00</td>
      <td>Beyoncé’s “Masterpiece of Black Feminism” Was Produced Almost Entirely By Men</td>
      <td>Beyoncé Knowles, Kevin Garrett, James Black, Wynter Gordon, Jack White, Mike Will Made It, Diplo, Ezra Koenig, Kevin Cossom, Melo-X, Danny Boy Styles, Ben Billions, Boots, Mike Dean, Vincent Berry II, Jonathan Coffer, and Just Blaze; these are the names credited as producers on Lemonade, the album The Hollywood Reporter calls a “Revolutionary Work of Black Feminism.” Notice anything peculiar?\n\nI believe the music is as advertised: a triumphant masterwork created by some of the most talente...</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/4gktw6/beyoncés_masterpiece_of_black_feminism_was/</td>
      <td>hiphopheads</td>
      <td>3436</td>
      <td>925</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>TheHHHRobot</td>
      <td>2016-04-21 17:50:05+00:00</td>
      <td>R.I.P. Prince Megathread</td>
      <td>http://www.tmz.com/2016/04/21/prince-dead-at-57/\n\nShare your favorite Prince songs, memories, interviews and alike.\n\nR.I.P.\n\n**REACTIONS FROM THE HIP-HOP COMMUNITY:**\n\n[Pete Rock](https://www.instagram.com/p/BEeJtKUGLdr/)\n\n[Killer Mike](https://www.instagram.com/p/BEeKYHCy1LZ/)\n\n[TDE's Punch](https://twitter.com/iamstillpunch/status/723205084151083008)\n\n[Questlove](https://www.instagram.com/p/BEeIpzpwa8I/)\n\n[Juicy J](https://www.instagram.com/p/BEeJU-fI-Kj/)\n\n[Young Thug](h...</td>
      <td>https://www.reddit.com/r/hiphopheads/comments/4fu6lc/rip_prince_megathread/</td>
      <td>hiphopheads</td>
      <td>2546</td>
      <td>750</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>RaHxRaH</td>
      <td>2015-11-12 14:05:16+00:00</td>
      <td>[FRESH] Missy Elliott - WTF (Where They From) ft. Pharrell Williams</td>
      <td></td>
      <td>https://youtu.be/KO_3Qgib6RQ</td>
      <td>hiphopheads</td>
      <td>2905</td>
      <td>502</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>caphis</td>
      <td>2015-05-28 02:12:13+00:00</td>
      <td>Why haven't Missy Elliott and Baskin Robbins teamed up for "Get Ur Free Cone" day yet?</td>
      <td></td>
      <td>http://www.reddit.com/r/Showerthoughts/comments/37jj0x/why_havent_missy_elliott_and_baskin_robbins/</td>
      <td>Showerthoughts</td>
      <td>2918</td>
      <td>205</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>All_Under_Heaven</td>
      <td>2015-02-02 01:27:53+00:00</td>
      <td>MRW Missy fucking Elliott showed up in the Superbowl Halftime show.</td>
      <td></td>
      <td>http://www.reactiongifs.com/r/2013/07/holy-sht.gif</td>
      <td>reactiongifs</td>
      <td>3746</td>
      <td>313</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missy_submissions</span><span class="p">[</span><span class="s1">&#39;subreddit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>hiphopheads           7
Music                 2
The_Donald            2
Showerthoughts        1
rupaulsdragrace       1
savedyouaclick        1
reactiongifs          1
BlackPeopleTwitter    1
Name: subreddit, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="collect-reddit-comments-with-search-keyword">
<h2>Collect Reddit comments (with search keyword)<a class="headerlink" href="#collect-reddit-comments-with-search-keyword" title="Permalink to this headline">¶</a></h2>
<p><strong>Set up generator to make API request</strong></p>
<p>The cell below should only take a second to run</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_comments</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;Missy Elliott&#39;</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="s2">&quot;&gt;2000&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="grab-data-for-each-reddit-comment-that-mentions-query-and-make-into-a-dataframe">
<h3>Grab data for each Reddit comment that mentions query and make into a dataframe<a class="headerlink" href="#grab-data-for-each-reddit-comment-that-mentions-query-and-make-into-a-dataframe" title="Permalink to this headline">¶</a></h3>
<p><strong>Grab data for each Reddit comment and make into a DataFrame</strong></p>
<p>The cell below should take a while to run. It’s searching through Reddit’s entire history. It’s ok if you periodically get errors while it’s running.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">missy_comments</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">comment</span><span class="o">.</span><span class="n">d_</span> <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">api_request_generator</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="collect-reddit-submissions-comments-with-multiple-search-keywords">
<h2>Collect Reddit submissions/comments (with multiple search keywords)<a class="headerlink" href="#collect-reddit-submissions-comments-with-multiple-search-keywords" title="Permalink to this headline">¶</a></h2>
<p>To search for multiple phrases —  George Orwell OR J.R.R. Tolkein — use parentheses and the bitwise OR operator</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_comments</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;(George Orwell)|(J. R. R. Tolkien)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To search for multiple phrases —  Shakespeare AND Beyonce — use parentheses and the bitwise AND operator</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_comments</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;(Shakespeare)&amp;(Beyonce)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="collect-reddit-submissions-comments-with-start-and-end-dates">
<h2>Collect Reddit submissions/comments (with start and end dates)<a class="headerlink" href="#collect-reddit-submissions-comments-with-start-and-end-dates" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="n">start_epoch</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
<span class="n">end_epoch</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>

<span class="n">api_request_generator</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">search_comments</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;(Shakespeare)&amp;(Beyonce)&quot;&#39;</span><span class="p">,</span> <span class="n">after</span> <span class="o">=</span> <span class="n">start_epoch</span><span class="p">,</span> <span class="n">before</span><span class="o">=</span><span class="n">end_epoch</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./features/Data-Collection"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="Twitter-Data-Sharing.html" title="previous page">Twitter Data Sharing</a>
    <a class='right-next' id="next-link" href="../Text-Analysis/Text-Analysis.html" title="next page">Text Analysis</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By <a href="https://melaniewalsh.org/">Melanie Walsh</a><br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            <a href='https://creativecommons.org/licenses/by-nc-sa/4.0/''> Book License </a> // <a href='https://choosealicense.com/licenses/gpl-3.0/#''> Code License</a>
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-86905362-3', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>