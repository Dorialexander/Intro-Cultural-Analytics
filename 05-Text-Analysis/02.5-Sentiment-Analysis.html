
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sentiment Analysis &#8212; Introduction to Cultural Analytics &amp; Python</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/custom.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/05-Text-Analysis/02.5-Sentiment-Analysis.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/favicon.ico" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Cultural Analytics & Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  How To
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../How-To-Interact-With-This-Book.html">
   Interact With This Book
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Course
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../course-schedule-2021.html">
   Course Schedule
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Book
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-Command-Line/01-The-Command-Line.html">
   1. The Command Line
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02-Python/00-Python.html">
   2. Python Basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/01-Install-Python.html">
     Install Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/02-How-to-Use-Jupyter-Notebooks.html">
     How to Use Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/03-Anatomy-Python-Script.html">
     Anatomy of a Python Script
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/04-Variables.html">
     Python Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/05-Data-Types.html">
     Python Data Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/06-String-Methods.html">
     Python String Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/07-Files-Character-Encoding.html">
     Files and Character Encoding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/08-Comparisons-Conditionals.html">
     Python Comparisons and Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/09-Lists-Loops-Part1.html">
     Python Lists and Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/10-Lists-Loops-Part2.html">
     Python Lists and Loops (Cont.)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/11-Dictionaries.html">
     Python Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/12-Functions.html">
     Python Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/13-Common-Python-Errors.html">
     Common Python Errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/14-What-Were-Not-Covering.html">
     What We’re Not Covering
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03-Data-Analysis/00-Data-Analysis.html">
   3. Data Analysis (Pandas)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/01-Pandas-Basics-Part1.html">
     Pandas Basics — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/02-Pandas-Basics-Part2.html">
     Pandas Basics — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/03-Pandas-Basics-Part3.html">
     Pandas Basics — Part 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/04-Pandas-Merge-Datasets.html">
     Pandas — Merge Datasets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Data-Collection/Data-Collection.html">
   4. Data Collection (Web Scraping, APIs)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/User-Ethics-Legal-Concerns.html">
     User Ethics &amp; Legal Concerns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Web-Scraping-Part1.html">
     Web Scraping — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Web-Scraping-Part2.html">
     Web Scraping — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Git-GitHub.html">
     Git and GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/APIs.html">
     Application Programming Interfaces (APIs)
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Data-Collection/Song-Genius-Data-Collection.html">
     Song Genius Data Collection
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Genius-API.html">
       Song Genius API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/LyricsGenius.html">
       Song Lyrics Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Song-Lyrics-Analysis.html">
       Song Lyrics Analysis
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Data-Collection/Twitter-Data-Collection-Home.html">
     Twitter Data Collection
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-API-Setup.html">
       Twitter API Setup
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Collection.html">
       Twitter Data Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Analysis.html">
       Twitter Data Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Sharing.html">
       Twitter Data Sharing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Reddit-Data-Collection-With-PSAW.html">
     Reddit Data Collection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="00-Text-Analysis.html">
   5. Text Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="01-Multilingual-Text-Analysis.html">
     Working in Languages Beyond English
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="Multilingual/Chinese/00-Chinese.html">
       Chinese
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Chinese/01-Preprocessing-Chinese.html">
         Text Pre-Processing for Chinese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Chinese/02-Named-Entity-Recognition-Chinese.html">
         Named Entity Recognition for Chinese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Chinese/03-POS-Keywords-Chinese.html">
         Part-of-Speech Tagging for Chinese
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="Multilingual/Danish/00-Danish.html">
       Danish
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Danish/01-Preprocessing-Danish.html">
         Text Pre-Processing for Danish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Danish/02-Named-Entity-Recognition-Danish.html">
         Named Entity Recognition for Danish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Danish/03-POS-Keywords-Danish.html">
         Part-of-Speech Tagging for Danish
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="Multilingual/Portuguese/00-Portuguese.html">
       Portuguese
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Portuguese/01-Preprocessing-Portuguese.html">
         Text Pre-Processing for Portuguese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Portuguese/02-Named-Entity-Recognition-Portuguese.html">
         Named Entity Recognition for Portuguese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Portuguese/03-POS-Keywords-Portuguese.html">
         Part-of-Speech Tagging for Portuguese
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="Multilingual/Russian/00-Russian.html">
       Russian
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Russian/01-Preprocessing-Russian.html">
         Text Pre-Processing for Russian
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Russian/02-Named-Entity-Recognition-Russian.html">
         Named Entity Recognition for Russian
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Russian/03-POS-Keywords-Russian.html">
         Part-of-Speech Tagging for Russian
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="Multilingual/Spanish/00-Spanish.html">
       Spanish
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Spanish/01-Preprocessing-Spanish.html">
         Text Pre-Processing for Spanish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Spanish/02-Named-Entity-Recognition-Spanish.html">
         Named Entity Recognition for Spanish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="Multilingual/Spanish/03-POS-Keywords-Spanish.html">
         Part-of-Speech Tagging for Spanish
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="01-TF-IDF.html">
     Term-Frequency Inverse Document Frequency
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="02-TF-IDF-HathiTrust.html">
       With HathiTrust
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="03-TF-IDF-Scikit-Learn.html">
       With Scikit-Learn
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="04-Topic-Modeling.html">
     Topic Modeling
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="05-Topic-Modeling-Overview.html">
       Overview
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="06-Topic-Modeling-Set-Up.html">
       Set Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="07-Topic-Modeling-Text-Files.html">
       Text Files (NYT Articles)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="08-Topic-Modeling-CSV.html">
       CSV Files (Reddit Posts)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="09-Topic-Modeling-Time-Series.html">
       Time Series (Tweets)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-Named-Entity-Recognition.html">
     Named Entity Recognition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-POS-Keywords.html">
     Part-of-Speech Tagging
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Network-Analysis/Network-Analysis-Home.html">
   6. Network Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Network-Analysis/Network-Analysis.html">
     Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Network-Analysis/Making-Network-Viz-with-Bokeh.html">
     Make an Interactive Network Visualization
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Mapping/Mapping-Home.html">
   7. Mapping
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Mapping.html">
     Mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Custom-Maps.html">
     Custom Map Backgrounds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Publish-Your-Map.html">
     Publish Your Map on the Web
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Datasets/Datasets.html">
   Datasets
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/05-Text-Analysis/02.5-Sentiment-Analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics/issues/new?title=Issue%20on%20page%20%2F05-Text-Analysis/02.5-Sentiment-Analysis.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/melaniewalsh/Intro-Cultural-Analytics/master?urlpath=lab/tree/book/05-Text-Analysis/02.5-Sentiment-Analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Sentiment Analysis
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lost-in-the-city-by-edward-p-jones">
     <em>
      Lost in the City
     </em>
     by Edward P. Jones
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-backstory-of-vader-and-how-it-works">
   The Backstory of VADER, and How It Works
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-and-import-libraries-packages">
   Install and Import Libraries/Packages
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-sentiment-scores">
   Calculate Sentiment Scores
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-sentiment-scores-for-the-house-on-mango-street">
   Calculate Sentiment Scores for
   <em>
    The House on Mango Street
   </em>
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-and-import-nltk">
     Install and Import NLTK
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-text-and-break-into-sentences">
     Load Text and Break Into Sentences
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-scores-for-each-sentence">
     Calculate Scores for Each Sentence
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#make-dataframe">
     Make DataFrame
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-sentiment-scores-by-chapter">
     Calculate Sentiment Scores By Chapter
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#make-a-plot-arc">
     Make a Plot Arc
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bar-chart">
       Bar Chart
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#line-chart">
       Line Chart
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#your-turn">
     Your Turn!
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="sentiment-analysis">
<h1>Sentiment Analysis<a class="headerlink" href="#sentiment-analysis" title="Permalink to this headline">¶</a></h1>
<p>In this lesson, we’re going to learn how to use <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">VADER</a>, an English-language sentiment analysis tool designed for use with social media texts. This tool helps to calculate whether texts expresses positive or negative sentiment.</p>
<p>What is “sentiment”? According to VADER’s creators, C.J. Hutto and Eric Gilbert:</p>
<blockquote>
<div><p>” Sentiment analysis, or opinion mining, is an active area of study in the field of natural language processing that analyzes people’s <strong>opinions, sentiments, evaluations, attitudes, and emotions</strong> via the computational treatment of subjectivity in text.”</p>
</div></blockquote>
<blockquote>
<div><p>-<a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">“VADER: A Parsimonious Rule-based Model for Sentiment Analysis of Social Media Text,”</a> C.J. Hutto Eric Gilbert</p>
</div></blockquote>
<p>In this lesson, we will cover how to use VADER to:</p>
<ul class="simple">
<li><p>Calculate sentiment for individual sentences, thousands of tweets, and a short story</p></li>
<li><p>Create a plot of how sentiment fluctuates over time or throughout a text</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="dataset">
<h1>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lost-in-the-city-by-edward-p-jones">
<h2><em>Lost in the City</em> by Edward P. Jones<a class="headerlink" href="#lost-in-the-city-by-edward-p-jones" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph" style=" padding: 10px">
<p>[T]he pigeon had taken a step and dropped from the ledge. He caught an upwind that took him nearly as high as the tops of the empty K Street houses. He flew farther into Northeast, into the color and sounds of the city’s morning. She did nothing, aside from following him, with her eyes, with her heart, as far as she could.</p>
<p class ="attribution">—Edward P. Jones, "The Girl Who Raised Pigeons," <i>Lost in the City<i/> (1993) <p/>
</blockquote><p>Edward P. Jones’s <em>Lost in the City</em> (1993) is a collection of 14 short stories set in Washington D.C. The first short story, “The Girl Who Raised Pigeons,” begins with a young girl raising homing pigeons on her roof.</p>
<p>How distinctive is a “pigeon” in the world of <em>Lost in the City</em>? What does this uniqueness (or lackthereof) tell us about the meaning of pigeons in first short story “The Girl Who Raised Pigeons” and the collection as a whole? These are just a few of the questions that we’re going to try to answer with tf-idf.</p>
</div>
</div>
<div class="section" id="the-backstory-of-vader-and-how-it-works">
<h1>The Backstory of VADER, and How It Works<a class="headerlink" href="#the-backstory-of-vader-and-how-it-works" title="Permalink to this headline">¶</a></h1>
<p>VADER, which stands for <strong>V</strong>alence <strong>A</strong>ware <strong>D</strong>ictionary and s<strong>E</strong>ntiment <strong>R</strong>easoner, calculates the sentiment of texts by referring to a lexicon of words that have been assigned sentiment scores as well as by using a handful of simple rules. This tool was designed by C.J. Hutto and Eric Gilbert, and you can read more about its purpose and creation in <a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">their published paper</a>.</p>
<p>Here’s a summary version: VADER’s lexicon was created by enlisting 10 different people to rate thousands of words positively or negatively on a scale of -4 to 4 (you can scroll through the <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/master/vaderSentiment/vader_lexicon.txt">lexicon on GitHub</a> and check it out for yourself — each line consists of a word, the mean rating, standard deviation, and 10 individual human ratings).</p>
<p>For example, you can see that the word <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1622"><em>crappy</em></a> has a mean rating of -2.5 and the word <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1127"><em>bliss</em></a> has a mean rating of 2.7. If you look at the 10 individual ratings, you can see that one person rated <em>bliss</em> as a 4, and another person rated <em>bliss</em> as a 1. This raises the question: just how “positive” is the word <em>bliss</em>? What do you think?</p>
<p>What about <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1721"><em>cutesie</em></a>? It has a mean rating of 1, but two people rated it as a -1, and five people rated as a 2. Is <em>cutesie</em> an admiring adjective — “<a class="reference external" href="https://www.urbandictionary.com/define.php?term=Cutesie">She was so cutesie I just had to talk to her</a>” — or a diminutive slight — “Ugh, her apartment was too cutesie”?</p>
<p>These difficult questions come up repeatedly when you read through the lexicon. Of course, VADER is designed to generalize, and it is not expected to capture the nuances of every single text. At the same time, it’s important to keep these questions close in mind whenever we use sentiment analysis tools: Does it matter that we’re missing out on specific nuances? What exactly are we measuring with this tool? Is this the best tool for the job?</p>
<p>In addition to its lexcion, VADER also calculates sentiment by considering 5 relatively simple rules:</p>
<blockquote>
<div><ol class="simple">
<li><p>If there’s punctuation, especially exclamation points, the sentiment intensity should be increased (e.g., “Mochi ice cream is bliss” 👍 vs “Mochi ice cream is bliss!!!” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="simple">
<li><p>If there’s capitalization, especially all caps, the sentiment intensity should be increased (e.g., “Mochi ice cream is bliss” 👍 vs “Mochi ice cream is BLISS” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="simple">
<li><p>If there are words like “extremely” or “absolutely”, the sentiment should be increased (“Mochi ice cream is good” 👍  vs “Mochi ice cream is extremely good” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="simple">
<li><p>If there’s a “but” in a sentence, the polarity of the sentiment should shift, and the sentiment that follows the “but” should be prioritized (e.g., “Mochi ice cream is nice” 👍 vs “Mochi ice cream is nice, but it’s a little blah” 👎 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="simple">
<li><p>If there’s a negation before an important word, the sentiment polarity should be flipped (“Mochi ice cream is my favorite” 👍 vs “Mochi ice cream is not my favorite” 👎 )</p></li>
</ol>
</div></blockquote>
<p>Because VADER uses a lexicon and simple rules, it works very fast and doesn’t require any training or set up, unlike more sophisticated. machine learning approaches.</p>
</div>
<div class="section" id="install-and-import-libraries-packages">
<h1>Install and Import Libraries/Packages<a class="headerlink" href="#install-and-import-libraries-packages" title="Permalink to this headline">¶</a></h1>
<p>Import Pandas and set Pandas display column width to 400 characters</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">400</span>
</pre></div>
</div>
</div>
</div>
<p>Install <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">vaderSentiment package</a> with pip</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install vaderSentiment
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting vaderSentiment
  Downloading vaderSentiment-3.3.2-py2.py3-none-any.whl (125 kB)
     |████████████████████████████████| 125 kB 5.3 MB/s eta 0:00:01
?25hRequirement already satisfied: requests in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from vaderSentiment) (2.25.1)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;vaderSentiment) (1.26.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;vaderSentiment) (2020.12.5)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;vaderSentiment) (2.10)
Requirement already satisfied: chardet&lt;5,&gt;=3.0.2 in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;vaderSentiment) (4.0.0)
Installing collected packages: vaderSentiment
Successfully installed vaderSentiment-3.3.2
</pre></div>
</div>
</div>
</div>
<p>Import the <code class="docutils literal notranslate"><span class="pre">SentimentIntensityAnalyser</span></code> and initlaize it</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vaderSentiment.vaderSentiment</span> <span class="kn">import</span> <span class="n">SentimentIntensityAnalyzer</span>
<span class="n">sentimentAnalyser</span> <span class="o">=</span> <span class="n">SentimentIntensityAnalyzer</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores">
<h1>Calculate Sentiment Scores<a class="headerlink" href="#calculate-sentiment-scores" title="Permalink to this headline">¶</a></h1>
<p>To calculate sentiment scores for a sentence or paragraph, we can use the <code class="docutils literal notranslate"><span class="pre">.polarity_scores()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.361, &#39;pos&#39;: 0.639, &#39;compound&#39;: 0.6486}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.526, &#39;neu&#39;: 0.474, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.5334}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t *not* like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.255, &#39;neu&#39;: 0.546, &#39;pos&#39;: 0.199, &#39;compound&#39;: -0.1307}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores-for-the-house-on-mango-street">
<h1>Calculate Sentiment Scores for <em>The House on Mango Street</em><a class="headerlink" href="#calculate-sentiment-scores-for-the-house-on-mango-street" title="Permalink to this headline">¶</a></h1>
<p>To calculate sentiment scores for <em>The House on Mango Street</em>, we first need a quick-and-easy way to break the novel up into sentences.</p>
<div class="section" id="install-and-import-nltk">
<h2>Install and Import NLTK<a class="headerlink" href="#install-and-import-nltk" title="Permalink to this headline">¶</a></h2>
<p>Install <a class="reference external" href="https://www.nltk.org/">NLTK</a>, a Python library for text analysis natural language processing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install nltk
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nltk in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (3.6.1)
Requirement already satisfied: click in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from nltk) (7.1.2)
Requirement already satisfied: tqdm in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from nltk) (4.59.0)
Requirement already satisfied: joblib in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from nltk) (1.0.1)
Requirement already satisfied: regex in /Users/melwalsh/opt/anaconda3/lib/python3.8/site-packages (from nltk) (2021.4.4)
</pre></div>
</div>
</div>
</div>
<p>Import nltk and download the model that will help us get sentences</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package punkt to /Users/melwalsh/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt.zip.
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-text-and-break-into-sentences">
<h2>Load Text and Break Into Sentences<a class="headerlink" href="#load-text-and-break-into-sentences" title="Permalink to this headline">¶</a></h2>
<p>Read in the text file for “Hairs”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../texts/social-media/Trump_Tweets_2020.csv&#39;</span><span class="p">)</span>
<span class="n">trump_df</span> <span class="o">=</span> <span class="n">trump_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<span class="n">trump_texts</span> <span class="o">=</span> <span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_texts</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;To all of those who have asked, I will not be going to the Inauguration on January 20th.&#39;,
 &#39;The 75,000,000 great American Patriots who voted for me, AMERICA FIRST, and MAKE AMERICA GREAT AGAIN, will have a GIANT VOICE long into the future. They will not be disrespected or treated unfairly in any way, shape or form!!!&#39;,
 &#39;https://t.co/csX07ZVWGe&#39;,
 &#39;These are the things and events that happen when a sacred landslide election victory is so unceremoniously &amp;amp; viciously stripped away from great patriots who have been badly &amp;amp; unfairly treated for so long. Go home with love &amp;amp; in peace. Remember this day forever!&#39;,
 &#39;https://t.co/Pm2PKV0Fp3&#39;,
 &#39;I am asking for everyone at the U.S. Capitol to remain peaceful. No violence! Remember, WE are the Party of Law &amp;amp; Order – respect the Law and our great men and women in Blue. Thank you!&#39;,
 &#39;Please support our Capitol Police and Law Enforcement. They are truly on the side of our Country. Stay peaceful!&#39;,
 &#39;Mike Pence didn’t have the courage to do what should have been done to protect our Country and our Constitution, giving States a chance to certify a corrected set of facts, not the fraudulent or inaccurate ones which they were asked to previously certify. USA demands the truth!&#39;,
 &#39;https://t.co/izItBeFE6G&#39;,
 &#39;These scoundrels are only toying with the @sendavidperdue (a great guy) vote. Just didn’t want to announce quite yet. They’ve got as many ballots as are necessary. Rigged Election!&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">trump_texts</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">---&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>To all of those who have asked, I will not be going to the Inauguration on January 20th. 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 
---
The 75,000,000 great American Patriots who voted for me, AMERICA FIRST, and MAKE AMERICA GREAT AGAIN, will have a GIANT VOICE long into the future. They will not be disrespected or treated unfairly in any way, shape or form!!! 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.746, &#39;pos&#39;: 0.254, &#39;compound&#39;: 0.923} 
---
https://t.co/csX07ZVWGe 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 
---
These are the things and events that happen when a sacred landslide election victory is so unceremoniously &amp;amp; viciously stripped away from great patriots who have been badly &amp;amp; unfairly treated for so long. Go home with love &amp;amp; in peace. Remember this day forever! 

 {&#39;neg&#39;: 0.098, &#39;neu&#39;: 0.693, &#39;pos&#39;: 0.209, &#39;compound&#39;: 0.814} 
---
https://t.co/Pm2PKV0Fp3 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 
---
I am asking for everyone at the U.S. Capitol to remain peaceful. No violence! Remember, WE are the Party of Law &amp;amp; Order – respect the Law and our great men and women in Blue. Thank you! 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.614, &#39;pos&#39;: 0.386, &#39;compound&#39;: 0.9611} 
---
Please support our Capitol Police and Law Enforcement. They are truly on the side of our Country. Stay peaceful! 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.568, &#39;pos&#39;: 0.432, &#39;compound&#39;: 0.8858} 
---
Mike Pence didn’t have the courage to do what should have been done to protect our Country and our Constitution, giving States a chance to certify a corrected set of facts, not the fraudulent or inaccurate ones which they were asked to previously certify. USA demands the truth! 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.731, &#39;pos&#39;: 0.269, &#39;compound&#39;: 0.9249} 
---
https://t.co/izItBeFE6G 

 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 
---
These scoundrels are only toying with the @sendavidperdue (a great guy) vote. Just didn’t want to announce quite yet. They’ve got as many ballots as are necessary. Rigged Election! 

 {&#39;neg&#39;: 0.073, &#39;neu&#39;: 0.76, &#39;pos&#39;: 0.166, &#39;compound&#39;: 0.4926} 
---
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">trump_texts</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Sentiment Score: </span><span class="si">{</span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">text</span><span class="p">)[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">---&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>To all of those who have asked, I will not be going to the Inauguration on January 20th. 

Sentiment Score: 0.0
---
The 75,000,000 great American Patriots who voted for me, AMERICA FIRST, and MAKE AMERICA GREAT AGAIN, will have a GIANT VOICE long into the future. They will not be disrespected or treated unfairly in any way, shape or form!!! 

Sentiment Score: 0.923
---
https://t.co/csX07ZVWGe 

Sentiment Score: 0.0
---
These are the things and events that happen when a sacred landslide election victory is so unceremoniously &amp;amp; viciously stripped away from great patriots who have been badly &amp;amp; unfairly treated for so long. Go home with love &amp;amp; in peace. Remember this day forever! 

Sentiment Score: 0.814
---
https://t.co/Pm2PKV0Fp3 

Sentiment Score: 0.0
---
I am asking for everyone at the U.S. Capitol to remain peaceful. No violence! Remember, WE are the Party of Law &amp;amp; Order – respect the Law and our great men and women in Blue. Thank you! 

Sentiment Score: 0.9611
---
Please support our Capitol Police and Law Enforcement. They are truly on the side of our Country. Stay peaceful! 

Sentiment Score: 0.8858
---
Mike Pence didn’t have the courage to do what should have been done to protect our Country and our Constitution, giving States a chance to certify a corrected set of facts, not the fraudulent or inaccurate ones which they were asked to previously certify. USA demands the truth! 

Sentiment Score: 0.9249
---
https://t.co/izItBeFE6G 

Sentiment Score: 0.0
---
These scoundrels are only toying with the @sendavidperdue (a great guy) vote. Just didn’t want to announce quite yet. They’ve got as many ballots as are necessary. Rigged Election! 

Sentiment Score: 0.4926
---
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_sentiment</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">compound_score</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">compound_score</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calculate_sentiment</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>isRetweet</th>
      <th>isDeleted</th>
      <th>device</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>date</th>
      <th>isFlagged</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>23169</th>
      <td>Congratulations to Patrick Reed on his great and courageous MASTERS win! When Patrick had his amazing win at Doral 5 years ago, people saw his great talent, and a bright future ahead. Now he is the Masters Champion!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>79374</td>
      <td>10122</td>
      <td>4/9/18 0:43</td>
      <td>f</td>
      <td>0.9899</td>
    </tr>
    <tr>
      <th>5169</th>
      <td>Today, it was my great honor to proudly accept the endorsement of the @NYCPBA! I have deeply and profoundly admired the brave men and women of the #NYPD for my entire life. New York’s Finest are truly the best of the best — I will NEVER let you down! #MAGA https://t.co/o1l5kAx34v</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>86425</td>
      <td>22183</td>
      <td>8/15/20 3:59</td>
      <td>f</td>
      <td>0.9879</td>
    </tr>
    <tr>
      <th>7200</th>
      <td>I am a big fan of Drew Brees. I think he’s truly one of the greatest quarterbacks, but he should not have taken back his original stance on honoring our magnificent American Flag. OLD GLORY is to be revered, cherished, and flown high...</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>267196</td>
      <td>48513</td>
      <td>6/5/20 20:08</td>
      <td>f</td>
      <td>0.9879</td>
    </tr>
    <tr>
      <th>2490</th>
      <td>It was great to be back in North Carolina with thousands of loyal, hardworking American Patriots! This election is a simple choice: If Biden Wins, China Wins. When WE Win, YOU WIN, North Carolina WINS, and America WINS! https://t.co/jWYVYZdT3E</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>46024</td>
      <td>10955</td>
      <td>10/15/20 19:20</td>
      <td>f</td>
      <td>0.9876</td>
    </tr>
    <tr>
      <th>11615</th>
      <td>95% Approval Rating in the Republican Party. Thank you! 191 Federal Judges (a record), and two Supreme Court Justices, approved. Best Economy &amp;amp; Employment Numbers EVER. Thank you to our great New, Smart and Nimble REPUBLICAN PARTY. Join now, it’s where people want to be!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>110818</td>
      <td>23498</td>
      <td>1/26/20 16:24</td>
      <td>f</td>
      <td>0.9869</td>
    </tr>
    <tr>
      <th>40498</th>
      <td>Good luck and best wishes to my dear friend, the wonderful and very talented Joan Rivers!  Winner of Celebrity Apprentice, amazing woman.</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for Android</td>
      <td>456</td>
      <td>199</td>
      <td>8/29/14 3:05</td>
      <td>f</td>
      <td>0.9857</td>
    </tr>
    <tr>
      <th>15776</th>
      <td>We are all united by the same love of Country, the same devotion to family, and the same profound faith that America is blessed by the eternal grace of ALMIGHTY GOD! Bound by these convictions, we will campaign for every vote &amp;amp, we will WIN the Great State of NEW MEXICO in 2020! https://t.co/BV5Wxs5GxE</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>73144</td>
      <td>18191</td>
      <td>9/17/19 3:42</td>
      <td>f</td>
      <td>0.9856</td>
    </tr>
    <tr>
      <th>20188</th>
      <td>Here we go with Mitt Romney, but so fast! Question will be, is he a Flake?  I hope not. Would much prefer that Mitt focus on Border Security and so many other things where he can be helpful. I won big, and he didn’t. He should be happy for all Republicans. Be a TEAM player &amp;amp, WIN!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>154068</td>
      <td>30352</td>
      <td>1/2/19 12:53</td>
      <td>f</td>
      <td>0.9843</td>
    </tr>
    <tr>
      <th>20863</th>
      <td>Congressman Kevin Brady of Texas is so popular in his District, and far beyond, that he doesn’t need any help - but I am giving it to him anyway. He is a great guy and the absolute “King” of Cutting Taxes. Highly respected by all, he loves his State &amp;amp, Country. Strong Endorsement!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>49255</td>
      <td>11554</td>
      <td>10/30/18 12:25</td>
      <td>f</td>
      <td>0.9841</td>
    </tr>
    <tr>
      <th>20136</th>
      <td>Congratulations to a truly great football team, the Clemson Tigers, on an incredible win last night against a powerful Alabama team. A big win also for the Great State of South Carolina. Look forward to seeing the team, and their brilliant coach, for the second time at the W.H.</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>118681</td>
      <td>17159</td>
      <td>1/8/19 14:42</td>
      <td>f</td>
      <td>0.9841</td>
    </tr>
    <tr>
      <th>22526</th>
      <td>My supporters are the smartest, strongest, most hard working and most loyal that we have seen in our countries history. It is a beautiful thing to watch as we win elections and gather support from all over the country. As we get stronger, so does our country. Best numbers ever!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>159237</td>
      <td>35711</td>
      <td>6/16/18 13:12</td>
      <td>f</td>
      <td>0.9834</td>
    </tr>
    <tr>
      <th>4203</th>
      <td>Congratulations to Dustin Johnson @DJohnsonPGA on not only a great winning streak and golf season, but on capping it off with a fantastic @PGA Tour Championship and becoming the 2020 FEDEXCUP Champion. Dustin is a true WINNER in so many ways!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>62769</td>
      <td>9648</td>
      <td>9/7/20 22:30</td>
      <td>f</td>
      <td>0.9833</td>
    </tr>
    <tr>
      <th>15701</th>
      <td>I want to express my gratitude to America’s magnificent @FLOTUS for tonight’s exquisite evening where we celebrated more than a century of loyal and devoted friendship between🇺🇸🇦🇺Both of our nations are blessed by uncommon courage, unfailing commitment, and unyielding character! https://t.co/i61cHCZYlD</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>107655</td>
      <td>20802</td>
      <td>9/21/19 4:11</td>
      <td>f</td>
      <td>0.9832</td>
    </tr>
    <tr>
      <th>14580</th>
      <td>It was my great honor to deliver the keynote address at the 2019 Second Step Presidential Justice Forum hosted by the 20/20 Bipartisan Justice Center in South Carolina, and my true honor to receive the Bipartisan Justice Award, thank you! https://t.co/uF9IWnI1pH</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>58045</td>
      <td>15502</td>
      <td>10/25/19 19:51</td>
      <td>f</td>
      <td>0.9831</td>
    </tr>
    <tr>
      <th>46785</th>
      <td>"""@barnard_sonja: @realDonaldTrump I wish I had your confidence!""  WIN, WIN, WIN and you will develop great confidence!"</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for Android</td>
      <td>19</td>
      <td>14</td>
      <td>7/24/13 12:35</td>
      <td>f</td>
      <td>0.9828</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>isRetweet</th>
      <th>isDeleted</th>
      <th>device</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>date</th>
      <th>isFlagged</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3728</th>
      <td>According to press reports, Iran may be planning an assassination, or other attack, against the United States in retaliation for the killing of terrorist leader Soleimani, which was carried out for his planning a future attack, murdering U.S. Troops, and the death &amp;amp; suffering...</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>120885</td>
      <td>32175</td>
      <td>9/15/20 3:04</td>
      <td>f</td>
      <td>-0.9829</td>
    </tr>
    <tr>
      <th>21749</th>
      <td>It is outrageous that Poisonous Synthetic Heroin Fentanyl comes pouring into the U.S. Postal System from China. We can, and must, END THIS NOW! The Senate should pass the STOP ACT – and firmly STOP this poison from killing our children and destroying our country. No more delay!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>89183</td>
      <td>23153</td>
      <td>8/20/18 17:14</td>
      <td>f</td>
      <td>-0.9825</td>
    </tr>
    <tr>
      <th>1552</th>
      <td>Our prayers are with the people of Vienna after yet another vile act of terrorism in Europe. These evil attacks against innocent people must stop. The U.S. stands with Austria, France, and all of Europe in the fight against terrorists, including radical Islamic terrorists.</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>236684</td>
      <td>39564</td>
      <td>11/3/20 4:25</td>
      <td>f</td>
      <td>-0.9810</td>
    </tr>
    <tr>
      <th>7096</th>
      <td>Colin Powell was a pathetic interview today on Fake News CNN. In his time, he was weak &amp;amp; gave away everything to everybody - so bad for the USA. Also got the “weapons of mass destruction” totally wrong, and you know what that mistake cost us? Sad! Only negative questions asked.</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>127934</td>
      <td>28175</td>
      <td>6/8/20 3:42</td>
      <td>f</td>
      <td>-0.9800</td>
    </tr>
    <tr>
      <th>21818</th>
      <td>The Rigged Russian Witch Hunt goes on and on as the “originators and founders” of this scam continue to be fired and demoted for their corrupt and illegal activity. All credibility is gone from this terrible Hoax, and much more will be lost as it proceeds. No Collusion!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>66924</td>
      <td>15264</td>
      <td>8/15/18 14:08</td>
      <td>f</td>
      <td>-0.9785</td>
    </tr>
    <tr>
      <th>20367</th>
      <td>At the request of many, I will be reviewing the case of a “U.S. Military hero,” Major Matt Golsteyn, who is charged with murder. He could face the death penalty from our own government after he admitted to killing a Terrorist bomb maker while overseas. @PeteHegseth @FoxNews</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>87158</td>
      <td>21270</td>
      <td>12/16/18 15:03</td>
      <td>f</td>
      <td>-0.9783</td>
    </tr>
    <tr>
      <th>15969</th>
      <td>...But most importantly, @CNN is bad for the USA. Their International Division spews bad information &amp;amp, Fake News all over the globe. This is why foreign leaders are always asking me, “Why does the Media hate the U.S. sooo much?” It is a fraudulent shame, &amp;amp, all comes from the top!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>45089</td>
      <td>10539</td>
      <td>9/9/19 13:01</td>
      <td>f</td>
      <td>-0.9773</td>
    </tr>
    <tr>
      <th>432</th>
      <td>Swing States that have found massive VOTER FRAUD, which is all of them, CANNOT LEGALLY CERTIFY these votes as complete &amp;amp; correct without committing a severely punishable crime. Everybody knows that dead people, below age people, illegal immigrants, fake signatures, prisoners,....</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>245205</td>
      <td>60394</td>
      <td>12/13/20 22:49</td>
      <td>f</td>
      <td>-0.9772</td>
    </tr>
    <tr>
      <th>18393</th>
      <td>....employment numbers ever, low taxes &amp;amp, regulations, a rebuilt military &amp;amp, V.A., many great new judges, &amp;amp, so much more. But we have had a giant SCAM perpetrated upon our nation, a Witch Hunt, a Treasonous Hoax. That is the Constitutional Crisis &amp;amp, hopefully guilty people will pay!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>63870</td>
      <td>14228</td>
      <td>5/12/19 21:35</td>
      <td>f</td>
      <td>-0.9771</td>
    </tr>
    <tr>
      <th>19563</th>
      <td>...said was a total lie, but Fake Media won’t show it. I am an innocent man being persecuted by some very bad, conflicted &amp;amp, corrupt people in a Witch Hunt that is illegal &amp;amp, should never have been allowed to start - And only because I won the Election! Despite this, great success!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>108241</td>
      <td>21889</td>
      <td>3/3/19 15:44</td>
      <td>f</td>
      <td>-0.9765</td>
    </tr>
    <tr>
      <th>23132</th>
      <td>DOJ just issued the McCabe report - which is a total disaster. He LIED! LIED! LIED! McCabe was totally controlled by Comey - McCabe is Comey!! No collusion, all made up by this den of thieves and lowlifes!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>106387</td>
      <td>28625</td>
      <td>4/13/18 19:36</td>
      <td>f</td>
      <td>-0.9764</td>
    </tr>
    <tr>
      <th>1097</th>
      <td>Wrong! At first they voted against because there were far more VOTES than PEOPLE (Sad!). Then they were threatened, screamed at and viciously harassed, and were FORCED to change their vote, but then REFUSED, as American patriots, to sign the documents. 71% MESS. Don’t Harass! https://t.co/n5frpesHfD</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>139281</td>
      <td>37876</td>
      <td>11/18/20 13:55</td>
      <td>t</td>
      <td>-0.9762</td>
    </tr>
    <tr>
      <th>1842</th>
      <td>Failed RINO former Governor Rick Snyder of Michigan was a disaster with respect to the Flint Water CATASTROPHE, and a very bad Governor overall. He hurt so many people with his gross incompetence. He reminds me of Sleepy Joe!</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>101655</td>
      <td>20252</td>
      <td>10/29/20 23:34</td>
      <td>f</td>
      <td>-0.9759</td>
    </tr>
    <tr>
      <th>1881</th>
      <td>Who is Miles Taylor? Said he was “anonymous”, but I don’t know him - never even heard of him. Just another @nytimes SCAM - he worked in conjunction with them. Also worked for Big Tech’s @Google. Now works for Fake News @CNN. They should fire, shame, and punish everybody....</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>107533</td>
      <td>25128</td>
      <td>10/28/20 21:42</td>
      <td>f</td>
      <td>-0.9754</td>
    </tr>
    <tr>
      <th>20071</th>
      <td>The Trump portrait of an unsustainable Border Crisis is dead on. “In the last two years, ICE officers made 266,000 arrests of aliens with Criminal Records, including those charged or convicted of 100,000 assaults, 30,000 sex crimes &amp;amp, 4000 violent killings.” America’s Southern....</td>
      <td>f</td>
      <td>f</td>
      <td>Twitter for iPhone</td>
      <td>70467</td>
      <td>17696</td>
      <td>1/14/19 3:12</td>
      <td>f</td>
      <td>-0.9747</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;date&#39;&gt;
</pre></div>
</div>
<img alt="../_images/02.5-Sentiment-Analysis_36_1.png" src="../_images/02.5-Sentiment-Analysis_36_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;date&#39;&gt;
</pre></div>
</div>
<img alt="../_images/02.5-Sentiment-Analysis_37_1.png" src="../_images/02.5-Sentiment-Analysis_37_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text_file</span> <span class="o">=</span> <span class="s2">&quot;../texts/literature/The-Yellow-Wallpaper_Charlotte-Perkins-Gilman.txt&quot;</span>
<span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">text_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="n">number_of_chunks</span> <span class="o">=</span> <span class="mi">12</span>

<span class="n">chunk_size</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">/</span> <span class="n">number_of_chunks</span><span class="p">)</span>

<span class="n">text_chunks</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">chunk_size</span><span class="p">):</span>
    <span class="n">text_chunk</span> <span class="o">=</span> <span class="n">text</span><span class="p">[</span><span class="n">number</span><span class="p">:</span><span class="n">number</span><span class="o">+</span><span class="n">chunk_size</span><span class="p">]</span>
    <span class="n">text_chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text_chunk</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To break a string into individual sentences, we can use <code class="docutils literal notranslate"><span class="pre">nltk.sent_tokenize()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intro</span> <span class="o">=</span> <span class="n">text_chunks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">intro</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;THE YELLOW WALLPAPER\n\nBy Charlotte Perkins Gilman\n\n\n\nIt is very seldom that mere ordinary people like John and myself secure\nancestral halls for the summer.&#39;,
 &#39;A colonial mansion, a hereditary estate, I would say a haunted house, and\nreach the height of romantic felicity—but that would be asking too\nmuch of fate!&#39;,
 &#39;Still I will proudly declare that there is something queer about it.&#39;,
 &#39;Else, why should it be let so cheaply?&#39;,
 &#39;And why have stood so long\nuntenanted?&#39;,
 &#39;John laughs at me, of course, but one expects that in marriage.&#39;,
 &#39;John is practical in the extreme.&#39;,
 &#39;He has no patience with faith, an\nintense horror of superstition, and he scoffs openly at any talk of things\nnot to be felt and seen and put down in figures.&#39;,
 &#39;John is a physician, and perhaps—(I would not say it to a living\nsoul, of course, but this is dead paper and a great relief to my\nmind)—perhaps that is one reason I do not get well faster.&#39;,
 &#39;You see, he does not believe I am sick!&#39;,
 &#39;And what can one do?&#39;,
 &#39;If a physician of high standing, and one’s own husband, assures friends\nand relatives that there is really nothing the matter with one but\ntemporary nervous depression—a slight hysterical tendency—what\nis one to do?&#39;,
 &#39;My brother is also a physician, and also of high standing, and he says the\nsame thing.&#39;,
 &#39;So I take phosphates or phosphites—whichever it is, and tonics, and\njourneys, and air, and exercise, and am absolutely forbidden to “work”\nuntil I am well again.&#39;,
 &#39;Personally, I disagree with their ideas.&#39;,
 &#39;Personally, I believe that congenial work, with excitement and change,\nwould do me good.&#39;,
 &#39;But what is one to do?&#39;,
 &#39;I did write for a while in spite of them; but it does exhaust me a good\ndeal—having to be so sly about it, or else meet with heavy\nopposition.&#39;,
 &#39;I sometimes fancy that in my condition if I had less opposition and more\nsociety and stimulus—but John says the very worst thing I can do is\nto think about my condition, and I confess it always makes me feel bad.&#39;,
 &#39;So I will let it alone and talk about the house.&#39;,
 &#39;The most beautiful place!&#39;,
 &#39;It is quite alone, standing well back from the\nroad, quite three miles from the village.&#39;,
 &#39;It makes me think of English\nplaces that you read about, for there are hedges and walls and gates that\nlock, and lots of separate little houses for the gardeners and people.&#39;,
 &#39;There is a delicious garden!&#39;,
 &#39;I never saw such a garden—large and\nshady, full of box-bordered paths, and lined with long grape-covered\narbors with seats under them.&#39;,
 &#39;There were greenhouses, too, but they are all broken now.&#39;,
 &#39;There was some legal trouble, I believe, something about the heirs and\nco-heirs; anyhow, the place has be&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">intro</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-scores-for-each-sentence">
<h2>Calculate Scores for Each Sentence<a class="headerlink" href="#calculate-scores-for-each-sentence" title="Permalink to this headline">¶</a></h2>
<p>We can loop through the sentences and calculate sentiment scores for every sentence.</p>
<p><em>How would we print just the “compound” score for each sentence?</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">scores</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>THE YELLOW WALLPAPER

By Charlotte Perkins Gilman



It is very seldom that mere ordinary people like John and myself secure
ancestral halls for the summer. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.824, &#39;pos&#39;: 0.176, &#39;compound&#39;: 0.5994} 

A colonial mansion, a hereditary estate, I would say a haunted house, and
reach the height of romantic felicity—but that would be asking too
much of fate! 
 {&#39;neg&#39;: 0.099, &#39;neu&#39;: 0.769, &#39;pos&#39;: 0.131, &#39;compound&#39;: -0.1511} 

Still I will proudly declare that there is something queer about it. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.753, &#39;pos&#39;: 0.247, &#39;compound&#39;: 0.5574} 

Else, why should it be let so cheaply? 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

And why have stood so long
untenanted? 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

John laughs at me, of course, but one expects that in marriage. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.84, &#39;pos&#39;: 0.16, &#39;compound&#39;: 0.2732} 

John is practical in the extreme. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

He has no patience with faith, an
intense horror of superstition, and he scoffs openly at any talk of things
not to be felt and seen and put down in figures. 
 {&#39;neg&#39;: 0.159, &#39;neu&#39;: 0.73, &#39;pos&#39;: 0.111, &#39;compound&#39;: -0.4215} 

John is a physician, and perhaps—(I would not say it to a living
soul, of course, but this is dead paper and a great relief to my
mind)—perhaps that is one reason I do not get well faster. 
 {&#39;neg&#39;: 0.157, &#39;neu&#39;: 0.654, &#39;pos&#39;: 0.189, &#39;compound&#39;: 0.3877} 

You see, he does not believe I am sick! 
 {&#39;neg&#39;: 0.31, &#39;neu&#39;: 0.69, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.5562} 

And what can one do? 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

If a physician of high standing, and one’s own husband, assures friends
and relatives that there is really nothing the matter with one but
temporary nervous depression—a slight hysterical tendency—what
is one to do? 
 {&#39;neg&#39;: 0.101, &#39;neu&#39;: 0.767, &#39;pos&#39;: 0.132, &#39;compound&#39;: 0.044} 

My brother is also a physician, and also of high standing, and he says the
same thing. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

So I take phosphates or phosphites—whichever it is, and tonics, and
journeys, and air, and exercise, and am absolutely forbidden to “work”
until I am well again. 
 {&#39;neg&#39;: 0.102, &#39;neu&#39;: 0.828, &#39;pos&#39;: 0.07, &#39;compound&#39;: -0.2484} 

Personally, I disagree with their ideas. 
 {&#39;neg&#39;: 0.342, &#39;neu&#39;: 0.658, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.3818} 

Personally, I believe that congenial work, with excitement and change,
would do me good. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.663, &#39;pos&#39;: 0.337, &#39;compound&#39;: 0.7269} 

But what is one to do? 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

I did write for a while in spite of them; but it does exhaust me a good
deal—having to be so sly about it, or else meet with heavy
opposition. 
 {&#39;neg&#39;: 0.11, &#39;neu&#39;: 0.779, &#39;pos&#39;: 0.111, &#39;compound&#39;: 0.2617} 

I sometimes fancy that in my condition if I had less opposition and more
society and stimulus—but John says the very worst thing I can do is
to think about my condition, and I confess it always makes me feel bad. 
 {&#39;neg&#39;: 0.168, &#39;neu&#39;: 0.832, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.8357} 

So I will let it alone and talk about the house. 
 {&#39;neg&#39;: 0.167, &#39;neu&#39;: 0.833, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.25} 

The most beautiful place! 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.401, &#39;pos&#39;: 0.599, &#39;compound&#39;: 0.6689} 

It is quite alone, standing well back from the
road, quite three miles from the village. 
 {&#39;neg&#39;: 0.123, &#39;neu&#39;: 0.75, &#39;pos&#39;: 0.127, &#39;compound&#39;: 0.0183} 

It makes me think of English
places that you read about, for there are hedges and walls and gates that
lock, and lots of separate little houses for the gardeners and people. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

There is a delicious garden! 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.501, &#39;pos&#39;: 0.499, &#39;compound&#39;: 0.6114} 

I never saw such a garden—large and
shady, full of box-bordered paths, and lined with long grape-covered
arbors with seats under them. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

There were greenhouses, too, but they are all broken now. 
 {&#39;neg&#39;: 0.316, &#39;neu&#39;: 0.684, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.631} 

There was some legal trouble, I believe, something about the heirs and
co-heirs; anyhow, the place has be 
 {&#39;neg&#39;: 0.134, &#39;neu&#39;: 0.792, &#39;pos&#39;: 0.074, &#39;compound&#39;: -0.296} 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="make-dataframe">
<h2>Make DataFrame<a class="headerlink" href="#make-dataframe" title="Permalink to this headline">¶</a></h2>
<p>A convenient way to make a DataFrame is to first make a list of dictionaries.</p>
<p>Below we loop through the sentences, calculate sentiment scores, and then create a mini-dictionary with the sentence and compound score, which we append to the list <code class="docutils literal notranslate"><span class="pre">sentence_scores</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>To make this list of dictionaries into a DataFrame, we can simply use <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>THE YELLOW WALLPAPER\n\nBy Charlotte Perkins Gilman\n\n\n\nIt is very seldom that mere ordinary people like John and myself secure\nancestral halls for the summer.</td>
      <td>0.5994</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A colonial mansion, a hereditary estate, I would say a haunted house, and\nreach the height of romantic felicity—but that would be asking too\nmuch of fate!</td>
      <td>-0.1511</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Still I will proudly declare that there is something queer about it.</td>
      <td>0.5574</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Else, why should it be let so cheaply?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>And why have stood so long\nuntenanted?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>John laughs at me, of course, but one expects that in marriage.</td>
      <td>0.2732</td>
    </tr>
    <tr>
      <th>6</th>
      <td>John is practical in the extreme.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>He has no patience with faith, an\nintense horror of superstition, and he scoffs openly at any talk of things\nnot to be felt and seen and put down in figures.</td>
      <td>-0.4215</td>
    </tr>
    <tr>
      <th>8</th>
      <td>John is a physician, and perhaps—(I would not say it to a living\nsoul, of course, but this is dead paper and a great relief to my\nmind)—perhaps that is one reason I do not get well faster.</td>
      <td>0.3877</td>
    </tr>
    <tr>
      <th>9</th>
      <td>You see, he does not believe I am sick!</td>
      <td>-0.5562</td>
    </tr>
    <tr>
      <th>10</th>
      <td>And what can one do?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>11</th>
      <td>If a physician of high standing, and one’s own husband, assures friends\nand relatives that there is really nothing the matter with one but\ntemporary nervous depression—a slight hysterical tendency—what\nis one to do?</td>
      <td>0.0440</td>
    </tr>
    <tr>
      <th>12</th>
      <td>My brother is also a physician, and also of high standing, and he says the\nsame thing.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>13</th>
      <td>So I take phosphates or phosphites—whichever it is, and tonics, and\njourneys, and air, and exercise, and am absolutely forbidden to “work”\nuntil I am well again.</td>
      <td>-0.2484</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Personally, I disagree with their ideas.</td>
      <td>-0.3818</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Personally, I believe that congenial work, with excitement and change,\nwould do me good.</td>
      <td>0.7269</td>
    </tr>
    <tr>
      <th>16</th>
      <td>But what is one to do?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>17</th>
      <td>I did write for a while in spite of them; but it does exhaust me a good\ndeal—having to be so sly about it, or else meet with heavy\nopposition.</td>
      <td>0.2617</td>
    </tr>
    <tr>
      <th>18</th>
      <td>I sometimes fancy that in my condition if I had less opposition and more\nsociety and stimulus—but John says the very worst thing I can do is\nto think about my condition, and I confess it always makes me feel bad.</td>
      <td>-0.8357</td>
    </tr>
    <tr>
      <th>19</th>
      <td>So I will let it alone and talk about the house.</td>
      <td>-0.2500</td>
    </tr>
    <tr>
      <th>20</th>
      <td>The most beautiful place!</td>
      <td>0.6689</td>
    </tr>
    <tr>
      <th>21</th>
      <td>It is quite alone, standing well back from the\nroad, quite three miles from the village.</td>
      <td>0.0183</td>
    </tr>
    <tr>
      <th>22</th>
      <td>It makes me think of English\nplaces that you read about, for there are hedges and walls and gates that\nlock, and lots of separate little houses for the gardeners and people.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>23</th>
      <td>There is a delicious garden!</td>
      <td>0.6114</td>
    </tr>
    <tr>
      <th>24</th>
      <td>I never saw such a garden—large and\nshady, full of box-bordered paths, and lined with long grape-covered\narbors with seats under them.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>25</th>
      <td>There were greenhouses, too, but they are all broken now.</td>
      <td>-0.6310</td>
    </tr>
    <tr>
      <th>26</th>
      <td>There was some legal trouble, I believe, something about the heirs and\nco-heirs; anyhow, the place has be</td>
      <td>-0.2960</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s examine the sentences from negative to positive sentiment scores.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hairs_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
<span class="n">hairs_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18</th>
      <td>I sometimes fancy that in my condition if I had less opposition and more\nsociety and stimulus—but John says the very worst thing I can do is\nto think about my condition, and I confess it always makes me feel bad.</td>
      <td>-0.8357</td>
    </tr>
    <tr>
      <th>25</th>
      <td>There were greenhouses, too, but they are all broken now.</td>
      <td>-0.6310</td>
    </tr>
    <tr>
      <th>9</th>
      <td>You see, he does not believe I am sick!</td>
      <td>-0.5562</td>
    </tr>
    <tr>
      <th>7</th>
      <td>He has no patience with faith, an\nintense horror of superstition, and he scoffs openly at any talk of things\nnot to be felt and seen and put down in figures.</td>
      <td>-0.4215</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Personally, I disagree with their ideas.</td>
      <td>-0.3818</td>
    </tr>
    <tr>
      <th>26</th>
      <td>There was some legal trouble, I believe, something about the heirs and\nco-heirs; anyhow, the place has be</td>
      <td>-0.2960</td>
    </tr>
    <tr>
      <th>19</th>
      <td>So I will let it alone and talk about the house.</td>
      <td>-0.2500</td>
    </tr>
    <tr>
      <th>13</th>
      <td>So I take phosphates or phosphites—whichever it is, and tonics, and\njourneys, and air, and exercise, and am absolutely forbidden to “work”\nuntil I am well again.</td>
      <td>-0.2484</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A colonial mansion, a hereditary estate, I would say a haunted house, and\nreach the height of romantic felicity—but that would be asking too\nmuch of fate!</td>
      <td>-0.1511</td>
    </tr>
    <tr>
      <th>10</th>
      <td>And what can one do?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>12</th>
      <td>My brother is also a physician, and also of high standing, and he says the\nsame thing.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>And why have stood so long\nuntenanted?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Else, why should it be let so cheaply?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>24</th>
      <td>I never saw such a garden—large and\nshady, full of box-bordered paths, and lined with long grape-covered\narbors with seats under them.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>16</th>
      <td>But what is one to do?</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>John is practical in the extreme.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>22</th>
      <td>It makes me think of English\nplaces that you read about, for there are hedges and walls and gates that\nlock, and lots of separate little houses for the gardeners and people.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>21</th>
      <td>It is quite alone, standing well back from the\nroad, quite three miles from the village.</td>
      <td>0.0183</td>
    </tr>
    <tr>
      <th>11</th>
      <td>If a physician of high standing, and one’s own husband, assures friends\nand relatives that there is really nothing the matter with one but\ntemporary nervous depression—a slight hysterical tendency—what\nis one to do?</td>
      <td>0.0440</td>
    </tr>
    <tr>
      <th>17</th>
      <td>I did write for a while in spite of them; but it does exhaust me a good\ndeal—having to be so sly about it, or else meet with heavy\nopposition.</td>
      <td>0.2617</td>
    </tr>
    <tr>
      <th>5</th>
      <td>John laughs at me, of course, but one expects that in marriage.</td>
      <td>0.2732</td>
    </tr>
    <tr>
      <th>8</th>
      <td>John is a physician, and perhaps—(I would not say it to a living\nsoul, of course, but this is dead paper and a great relief to my\nmind)—perhaps that is one reason I do not get well faster.</td>
      <td>0.3877</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Still I will proudly declare that there is something queer about it.</td>
      <td>0.5574</td>
    </tr>
    <tr>
      <th>0</th>
      <td>THE YELLOW WALLPAPER\n\nBy Charlotte Perkins Gilman\n\n\n\nIt is very seldom that mere ordinary people like John and myself secure\nancestral halls for the summer.</td>
      <td>0.5994</td>
    </tr>
    <tr>
      <th>23</th>
      <td>There is a delicious garden!</td>
      <td>0.6114</td>
    </tr>
    <tr>
      <th>20</th>
      <td>The most beautiful place!</td>
      <td>0.6689</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Personally, I believe that congenial work, with excitement and change,\nwould do me good.</td>
      <td>0.7269</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores-by-chapter">
<h2>Calculate Sentiment Scores By Chapter<a class="headerlink" href="#calculate-sentiment-scores-by-chapter" title="Permalink to this headline">¶</a></h2>
<p>To calculate sentiment scores for the sentences in each chapter of <em>The House on Mango Street</em>, we need to read in each file indviidually.</p>
<p>Below we will import <code class="docutils literal notranslate"><span class="pre">glob</span></code> and <code class="docutils literal notranslate"><span class="pre">Path</span></code>, which will allow us to get all the filenames for the chapters and extract the titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</pre></div>
</div>
</div>
</div>
<p>Create a list of filenames for every <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file in the directory</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">directory_path</span> <span class="o">=</span> <span class="s2">&quot;../texts/literature/House-on-Mango-Street/&quot;</span>
<span class="n">text_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory_path</span><span class="si">}</span><span class="s2">/*.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Loop through each file in the “House on Mango Street” directory, calculate sentiment scores, and make a list of dictionaries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop through all the filenames</span>
<span class="k">for</span> <span class="n">section_number</span><span class="p">,</span> <span class="n">text_chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text_chunks</span><span class="p">):</span>
    
    <span class="c1">#Read in the file</span>
    <span class="c1">#chapter = open(text_file, encoding=&quot;utf-8&quot;).read()</span>
    <span class="c1">#Extract the end of the filename</span>
   <span class="c1"># title = Path(text_file).stem</span>
    
    <span class="c1">#Loop through each sentence in the </span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">text_chunk</span><span class="p">):</span>
        <span class="c1">#Calculate sentiment scores for sentence</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
        
        <span class="c1">#Make mini-dictionary with chapter name, sentence, and sentiment score</span>
        <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;section&#39;</span><span class="p">:</span> <span class="n">section_number</span><span class="p">,</span>
                                <span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span>
                                <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop through all the filenames</span>
<span class="k">for</span> <span class="n">text_file</span> <span class="ow">in</span> <span class="n">text_files</span><span class="p">:</span>
    
    <span class="c1">#Read in the file</span>
    <span class="n">chapter</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">text_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1">#Extract the end of the filename</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">text_file</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>
    
    <span class="c1">#Loop through each sentence in the </span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
        <span class="c1">#Calculate sentiment scores for sentence</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
        
        <span class="c1">#Make mini-dictionary with chapter name, sentence, and sentiment score</span>
        <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;chapter&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                                <span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span>
                                <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s create a DataFrame from our list of dictionaries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
<span class="c1"># Make the DataFrame alphabetical by chapter</span>
<span class="n">chapter_df</span> <span class="o">=</span> <span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;section&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>How would we examine the most negative 15 sentences?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>section</th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>48</th>
      <td>1</td>
      <td>It is dull enough to confuse the eye in following, pronounced enough to\nconstantly irritate, and provoke study, and when you follow the lame,\nuncertain curves for a little distance they suddenly commit suicide—plunge\noff at outrageous angles, destroy themselves in unheard-of contradictions.</td>
      <td>-0.9623</td>
    </tr>
    <tr>
      <th>58</th>
      <td>2</td>
      <td>But these nervous troubles are dreadfully depressing.</td>
      <td>-0.9442</td>
    </tr>
    <tr>
      <th>33</th>
      <td>1</td>
      <td>But John says if I feel so I shall neglect proper self-control; so I take\npains to control myself,—before him, at least,—and that makes\nme very tired.</td>
      <td>-0.9298</td>
    </tr>
    <tr>
      <th>354</th>
      <td>11</td>
      <td>I tried to lift and push it until I was lame, and then I got so angry I\nbit off a little piece at one corner—but it hurt my teeth.</td>
      <td>-0.8870</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>I sometimes fancy that in my condition if I had less opposition and more\nsociety and stimulus—but John says the very worst thing I can do is\nto think about my condition, and I confess it always makes me feel bad.</td>
      <td>-0.8357</td>
    </tr>
    <tr>
      <th>206</th>
      <td>7</td>
      <td>The color is hideous enough, and unreliable enough, and infuriating\nenough, but the pattern is torturing.</td>
      <td>-0.8271</td>
    </tr>
    <tr>
      <th>51</th>
      <td>1</td>
      <td>No wonder the children hated it!</td>
      <td>-0.7712</td>
    </tr>
    <tr>
      <th>236</th>
      <td>8</td>
      <td>She didn’t know I was in the room, and when I asked her in a quiet, a very\nquiet voice, with the most restrained manner possible, what she was doing\nwith the paper she turned around as if she had been caught stealing,\nand looked quite angry—asked me why I should frighten her so!</td>
      <td>-0.7500</td>
    </tr>
    <tr>
      <th>357</th>
      <td>11</td>
      <td>All those strangled heads\nand bulbous eyes and waddling fungus growths just shriek with derision!</td>
      <td>-0.7177</td>
    </tr>
    <tr>
      <th>261</th>
      <td>8</td>
      <td>I find it hovering in the dining-room, skulking in the parlor, hiding in\nthe hall, lying in wait for me on the stairs.</td>
      <td>-0.6808</td>
    </tr>
    <tr>
      <th>358</th>
      <td>11</td>
      <td>I am getting angry enough to do something desperate.</td>
      <td>-0.6808</td>
    </tr>
    <tr>
      <th>289</th>
      <td>9</td>
      <td>If those heads were covered or taken off it would not be half so bad.</td>
      <td>-0.6696</td>
    </tr>
    <tr>
      <th>217</th>
      <td>7</td>
      <td>At night in any kind of light, in twilight, candlelight, lamplight, and\nworst of all by moonlight, it becomes bars!</td>
      <td>-0.6588</td>
    </tr>
    <tr>
      <th>336</th>
      <td>10</td>
      <td>How she betrayed herself that time!</td>
      <td>-0.6476</td>
    </tr>
    <tr>
      <th>184</th>
      <td>6</td>
      <td>John was asleep and I hated to waken him, so I kept still and watched the\nmoonlight on that undulating wallpaper till I felt creepy.</td>
      <td>-0.6369</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>How would we examine the most positive 15 sentences?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>section</th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>72</th>
      <td>2</td>
      <td>“You know the place is doing you good,” he said, “and really, dear, I\ndon’t care to renovate the house just for a three months’ rental.”\n\n“Then do let us go downstairs,” I said, “there are such pretty rooms\nthere.”\n\nThen he took me in his arms and called me a blessed little goose, and said\nhe would go down cellar if I wished, and have it whitewashed into\nthe bargain.</td>
      <td>0.9324</td>
    </tr>
    <tr>
      <th>367</th>
      <td>11</td>
      <td>It is so pleasant to be out in this great room and creep around as I\nplease!</td>
      <td>0.9137</td>
    </tr>
    <tr>
      <th>96</th>
      <td>3</td>
      <td>I remember what a kindly wink the knobs of our big old bureau used to\nhave, and there was one chair that always seemed like a strong friend.</td>
      <td>0.9042</td>
    </tr>
    <tr>
      <th>163</th>
      <td>5</td>
      <td>He said I was his darling and his comfort and all he had, and that I must\ntake care of myself for his sake, and keep well.</td>
      <td>0.8910</td>
    </tr>
    <tr>
      <th>200</th>
      <td>6</td>
      <td>There is nothing so dangerous, so fascinating,\nto a temperament like yours.</td>
      <td>0.8894</td>
    </tr>
    <tr>
      <th>112</th>
      <td>4</td>
      <td>A lovely country, too, full of great\nelms and velvet meadows.</td>
      <td>0.8360</td>
    </tr>
    <tr>
      <th>319</th>
      <td>10</td>
      <td>He asked me all sorts of questions, too, and pretended to be very loving\nand kind.</td>
      <td>0.8341</td>
    </tr>
    <tr>
      <th>153</th>
      <td>5</td>
      <td>But the effort is getting to be greater than the relief.</td>
      <td>0.8126</td>
    </tr>
    <tr>
      <th>107</th>
      <td>3</td>
      <td>She is a perfect, and enthusiastic housekeeper, and hopes for no better\nprofession.</td>
      <td>0.8071</td>
    </tr>
    <tr>
      <th>45</th>
      <td>1</td>
      <td>It is stripped\noff—the paper—in great patches all around the head of my bed,\nabout as far as I can reach, and in a great place on the other side of the\nroom low down.</td>
      <td>0.8020</td>
    </tr>
    <tr>
      <th>243</th>
      <td>8</td>
      <td>John is so pleased to see me improve!</td>
      <td>0.7866</td>
    </tr>
    <tr>
      <th>191</th>
      <td>6</td>
      <td>Of course if you were in any danger I could and would, but you\nreally are better, dear, whether you can see it or not.</td>
      <td>0.7822</td>
    </tr>
    <tr>
      <th>179</th>
      <td>6</td>
      <td>It is so hard to talk with John about my case, because he is so wise, and\nbecause he loves me so.</td>
      <td>0.7798</td>
    </tr>
    <tr>
      <th>359</th>
      <td>11</td>
      <td>To jump out of the\nwindow would be admirable exercise, but the bars are too strong even to\ntry.</td>
      <td>0.7750</td>
    </tr>
    <tr>
      <th>131</th>
      <td>4</td>
      <td>So I walk a little in the garden or down that lovely lane, sit on the\nporch under the roses, and lie down up here a good deal.</td>
      <td>0.7717</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="make-a-plot-arc">
<h2>Make a Plot Arc<a class="headerlink" href="#make-a-plot-arc" title="Permalink to this headline">¶</a></h2>
<p>To create a data visualization of sentiment over the course of <em>The House on Mango Street</em>, we first need to calculate the average sentiment for each chapter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>section
0     0.013970
1    -0.080652
2     0.179933
3     0.099080
4     0.098877
5     0.207465
6     0.225455
7    -0.044672
8     0.106218
9    -0.004787
10    0.138856
11    0.009667
Name: score, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_means</span> <span class="o">=</span> <span class="n">chapter_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="bar-chart">
<h3>Bar Chart<a class="headerlink" href="#bar-chart" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">chapter_means</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in Mango Street&#39;</span><span class="p">)</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x7fae0906ad60&gt;
</pre></div>
</div>
<img alt="../_images/02.5-Sentiment-Analysis_74_1.png" src="../_images/02.5-Sentiment-Analysis_74_1.png" />
</div>
</div>
</div>
<div class="section" id="line-chart">
<h3>Line Chart<a class="headerlink" href="#line-chart" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">chapter_means</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in Mango Street&#39;</span><span class="p">)</span>

<span class="c1">#Not all xtick labels will show up in a line plot by default, so we have to make it explicit</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">chapter_means</span><span class="p">[</span><span class="s1">&#39;section&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/02.5-Sentiment-Analysis_76_0.png" src="../_images/02.5-Sentiment-Analysis_76_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="your-turn">
<h2>Your Turn!<a class="headerlink" href="#your-turn" title="Permalink to this headline">¶</a></h2>
<p>How do these plot arcs align with your reading experience of <em>The House on Mango Street</em>? Examine some specific chapters and sentences below, and discuss how well VADER seems to be working or not working.</p>
<p><em>Note: if you want to read the sentences in order, you can use the <code class="docutils literal notranslate"><span class="pre">.sort_index()</span></code> method</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="p">[</span><span class="n">chapter_df</span><span class="p">[</span><span class="s1">&#39;chapter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Papa-Who&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<p>Examine another chapter or chapters</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="p">[</span><span class="n">chapter_df</span><span class="p">[</span><span class="s1">&#39;chapter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;INSERT-PART-OF-CHAPTER-NAME&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>How well do you think VADER sentiment analysis works with literary texts?</p></li>
<li><p>How do social media posts and literary texts different in the way they express sentiment? (What is “sentiment”, anyway?)</p></li>
<li><p>Could you imagine using sentiment analysis in a project? If so, how?</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./05-Text-Analysis"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By <a href="https://melaniewalsh.org/">Melanie Walsh</a><br/>
        
            &copy; Copyright 2021.<br/>
          <div class="extra_footer">
            <div>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>. The code is licensed under a <a href="https://choosealicense.com/licenses/gpl-3.0/#">GNU General Public License v3.0</a>.
</div>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-86905362-3', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>